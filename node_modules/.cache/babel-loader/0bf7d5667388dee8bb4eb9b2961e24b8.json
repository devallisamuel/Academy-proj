{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import Container from'@mui/material/Container';import{Grid,Typography}from'@mui/material';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import{Button}from'@mui/material';import{useState,useEffect}from'react';import Box from'@mui/material/Box';import Modal from'@mui/material/Modal';import TextField from'@mui/material/TextField';import{useSelector}from'react-redux';import Stack from'@mui/material/Stack';import axios from'axios';import{useNavigate}from'react-router';import background from'../../assets/Jemeelah1-1.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:400,bgcolor:'white',border:'2px solid #fff',boxShadow:24,p:4};export var Details=function Details(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),pin=_useState6[0],setPin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open1=_useState8[0],setOpen1=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),groupName=_useState10[0],setGroupName=_useState10[1];var handleOpen1=function handleOpen1(){return setOpen1(true);};var handleClose1=function handleClose1(){return setOpen1(false);};var navigate=useNavigate();var sender=useSelector(function(state){return state.reducer;});console.log(sender[0]);var multipleTransfer=useSelector(function(state){return state.detail;});console.log(multipleTransfer);var counter=0;var user=useSelector(function(state){return state.reducer;});useEffect(function(){if(window.location.pathname==='/welcome/multiple'&&user.length===0){return navigate('/');}},[]);var getTotal=function getTotal(){for(var i=0;i<multipleTransfer.length;i++){counter+=multipleTransfer[i].transactionAmount;}return counter;};var handlePin=function handlePin(event){setPin(event.target.value);};var handlePayment=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();if(!(Number(pin.length)===4)){_context.next=12;break;}setError(false);console.log(pin);_context.next=7;return axios.post('https://xmtapi.azurewebsites.net/Transaction/make_transfer',{senderAccount:sender[0].accountNumber,accountPin:pin.toString(),groupName:groupName.length>0?groupName:'Xtransfer',transfers:multipleTransfer}).then(function(res){return res.data.message;}).catch(function(err){return console.error(err,'error on post request of transfer');});case 7:response=_context.sent;console.log(response);navigate(\"/welcome/result/\".concat(response));_context.next=13;break;case 12:setError(true);case 13:_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.error(_context.t0);navigate('/welcome');case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function handlePayment(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:\"url(\".concat(background,\")\"),height:'100vh',width:'100%',overflowX:'hidden',backgroundPosition:'center',backgroundSize:'cover'},children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"primary\",style:{marginLeft:90,marginTop:100,fontSize:20},children:\"Transfer Details\"})}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{color:\"primary\",style:{marginLeft:90,marginTop:10,fontSize:12,display:'flex'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{fontSize:15},children:\"To save recipients as a group click\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"primary\",onClick:handleOpen1,style:{cursor:'pointer',fontSize:15,marginLeft:5},children:\"here\"}),/*#__PURE__*/_jsx(Modal,{open:open1,onClose:handleClose1,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(Box,{sx:style,children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",label:\"Group Name\",variant:\"standard\",value:groupName,onChange:function onChange(e){return setGroupName(e.target.value);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClose1,children:\"Save\"})]})})})]}),/*#__PURE__*/_jsx(TableContainer,{style:{marginLeft:100,marginTop:20},children:/*#__PURE__*/_jsxs(Table,{sx:{width:'700px'},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Serial Number\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Account Number\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Amount\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Bank\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:multipleTransfer&&multipleTransfer.map(function(val,key){return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:key+1}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:val.receiverAccount}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:val.transactionAmount}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:val.bank})]},key);})})]})})]}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",color:\"primary\",style:{marginLeft:110,marginTop:50,fontSize:20},children:[\"Total:N \",getTotal()]})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Grid,{container:true,style:{marginLeft:90,marginTop:50},children:/*#__PURE__*/_jsxs(Grid,{item:true,md:12,xs:12,justifyContent:\"center\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:20},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleOpen,children:\"Proceed\"})}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{sx:style,children:[/*#__PURE__*/_jsx(Typography,{id:\"modal-modal-title\",variant:\"h6\",component:\"h2\",style:{textAlign:'center'},children:\"Please enter your four digit pin\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(TextField,{id:\"filled-password-input\",label:\"Pin\",type:\"password\",autoComplete:\"current-password\",variant:\"filled\",style:{marginTop:20},onChange:handlePin,onBlur:handlePin})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:20,display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{width:220},disableRipple:true,onClick:handlePayment,children:\"Pay\"})})]})})]})})})]})});};","map":{"version":3,"sources":["C:/Users/support/Desktop/xtm/src/components/nestedRoutes/Details.js"],"names":["Container","Grid","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","useState","useEffect","Box","Modal","TextField","useSelector","Stack","axios","useNavigate","background","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","Details","open","setOpen","handleOpen","handleClose","error","setError","pin","setPin","open1","setOpen1","groupName","setGroupName","handleOpen1","handleClose1","navigate","sender","state","reducer","console","log","multipleTransfer","detail","counter","user","window","location","pathname","length","getTotal","i","transactionAmount","handlePin","event","target","value","handlePayment","preventDefault","Number","post","senderAccount","accountNumber","accountPin","toString","transfers","then","res","data","message","catch","err","response","backgroundImage","height","overflowX","backgroundPosition","backgroundSize","marginLeft","marginTop","fontSize","display","cursor","e","map","val","key","receiverAccount","bank","textAlign","justifyContent"],"mappings":"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","sourcesContent":["import Container from '@mui/material/Container';\r\nimport { Grid, Typography } from '@mui/material';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport { Button } from '@mui/material';\r\nimport { useState,useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Modal from '@mui/material/Modal';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useSelector } from 'react-redux';\r\nimport Stack from '@mui/material/Stack';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router';\r\nimport background from '../../assets/Jemeelah1-1.svg';\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    bgcolor: 'white',\r\n    border: '2px solid #fff',\r\n    boxShadow: 24,\r\n    p: 4,\r\n  };\r\n\r\n\r\n\r\nexport const Details = () => {\r\n    const [open, setOpen] = useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    const [error,setError] = useState(false);\r\n    const [pin, setPin] = useState('');\r\n    \r\n    const [open1, setOpen1] = useState(false);\r\n    const [groupName,setGroupName] = useState('')\r\n    const handleOpen1 = () => setOpen1(true);\r\n    const handleClose1 = () => setOpen1(false);\r\n    \r\n\r\n    const navigate = useNavigate();\r\n\r\n    const sender = useSelector(state => state.reducer);\r\n    console.log(sender[0]);\r\n\r\n    const multipleTransfer = useSelector(state => state.detail);\r\n    console.log(multipleTransfer);\r\n    let counter = 0;\r\n    const user = useSelector(state => state.reducer);\r\n    useEffect(() => {\r\n        if( window.location.pathname ==='/welcome/multiple' && user.length  === 0 )    {\r\n            return navigate('/');\r\n        }\r\n        \r\n    }, []);\r\n    const getTotal = function () {\r\n        for(let i  = 0;  i < multipleTransfer.length; i++) {\r\n            counter+= multipleTransfer[i].transactionAmount;\r\n        }\r\n        return counter;\r\n    }\r\n    const handlePin = (event) => {\r\n        setPin(event.target.value);\r\n    }\r\n    const handlePayment = async (event) => {\r\n        try{\r\n            event.preventDefault();\r\n            if(Number(pin.length) === 4) {\r\n                setError(false);\r\n                console.log(pin);\r\n                let response =await axios.post('https://xmtapi.azurewebsites.net/Transaction/make_transfer', {senderAccount:sender[0].accountNumber, \r\n                accountPin: pin.toString(),\r\n                groupName:groupName.length > 0 ? groupName:'Xtransfer', \r\n                transfers:multipleTransfer}).then(res => res.data.message).catch(err => console.error(err,'error on post request of transfer'));\r\n                console.log(response);\r\n                navigate(`/welcome/result/${response}`);\r\n            } else {\r\n                setError(true);\r\n            }\r\n        }\r\n        catch(error) {\r\n            console.error(error);\r\n            navigate('/welcome');\r\n        }\r\n    }\r\n\r\n return (<>\r\n                <div style = {{backgroundImage:`url(${background})`,\r\n                    height:'100vh',\r\n                    width:'100%',\r\n                    overflowX:'hidden',\r\n                    backgroundPosition:'center',\r\n                    backgroundSize:'cover',\r\n                    }}>\r\n                <Container>\r\n                    <Typography variant=\"body1\" color ='primary' style =  {{marginLeft: 90, marginTop:100, fontSize:20}}>Transfer Details</Typography>\r\n                </Container>\r\n                <Container>\r\n                <div  color ='primary' style =  {{marginLeft: 90, marginTop:10, fontSize:12, display:'flex'}}>\r\n                        <Typography variant = 'h6' style ={{fontSize:15}}>To save recipients as a group click\r\n                        </Typography>\r\n                        <Typography variant = 'h6' color ='primary' onClick={handleOpen1} style = {{cursor:'pointer',fontSize:15, marginLeft:5}}>\r\n                                here\r\n                            </Typography>\r\n                            <Modal\r\n                            open={open1}\r\n                            onClose={handleClose1}\r\n                            aria-labelledby=\"modal-modal-title\"\r\n                            aria-describedby=\"modal-modal-description\"\r\n                            >\r\n                                <Box sx={style}>\r\n                                    <Stack spacing= {2}>\r\n                                        <TextField id=\"standard-basic\" label=\"Group Name\" variant=\"standard\"value = {groupName} onChange = {e => setGroupName(e.target.value)} />\r\n                                        <Button variant = 'contained' onClick = {handleClose1}>Save</Button>\r\n                                    </Stack>\r\n                                </Box>\r\n                            </Modal>\r\n                    </div> \r\n                    <TableContainer style =  {{marginLeft: 100, marginTop:20}} >\r\n                        <Table sx={{ width: '700px' }} aria-label=\"simple table\">\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell>Serial Number</TableCell>\r\n                                    <TableCell>Account Number</TableCell>\r\n                                    <TableCell>Amount</TableCell>\r\n                                    <TableCell>Bank</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {multipleTransfer && multipleTransfer.map((val,key)  => <TableRow\r\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }} key={key}>\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {key +1}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"left\">{val.receiverAccount}</TableCell>\r\n                                    <TableCell align=\"left\">{val.transactionAmount}</TableCell>\r\n                                    <TableCell align=\"left\">{val.bank}</TableCell>\r\n                                </TableRow>)}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Container>\r\n                <Container>\r\n                <Typography variant=\"body1\" color ='primary' style =  {{marginLeft: 110, marginTop:50, fontSize:20}}>Total:N {getTotal()}</Typography>\r\n                </Container>\r\n                <Container>\r\n                    <Grid container style =  {{marginLeft: 90, marginTop:50}} >\r\n                        <Grid item md= {12} xs ={12} justifyContent='center' alignItems = 'center'>\r\n                            <div style ={{marginLeft:20}}>\r\n                                <Button variant='contained' color = 'primary' onClick={handleOpen}>Proceed</Button>\r\n                            </div>\r\n                            <Modal\r\n                                open={open}\r\n                                onClose={handleClose}\r\n                                aria-labelledby=\"modal-modal-title\"\r\n                                aria-describedby=\"modal-modal-description\"\r\n                            >\r\n                                <Box sx={style}>\r\n                                <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\" style = {{textAlign:'center'}}>\r\n                                    Please enter your four digit pin\r\n                                </Typography>\r\n                                <div style ={{display:'flex',justifyContent:'center'}}>\r\n                                <TextField\r\n                                    id=\"filled-password-input\"\r\n                                    label=\"Pin\"\r\n                                    type=\"password\"\r\n                                    autoComplete=\"current-password\"\r\n                                    variant=\"filled\"\r\n                                    style = {{marginTop:20}}\r\n                                    onChange = {handlePin}\r\n                                    onBlur = {handlePin}\r\n                                    />\r\n                                </div>\r\n                                <div style = {{marginTop:20, display:'flex',justifyContent:'center'}}>\r\n                                    <Button variant = 'contained' color = 'primary' style =  {{width:220}} disableRipple  onClick = {handlePayment}>Pay</Button>\r\n                                </div> \r\n                                </Box>\r\n                            </Modal>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Container>\r\n                </div>\r\n        </>)\r\n}; "]},"metadata":{},"sourceType":"module"}