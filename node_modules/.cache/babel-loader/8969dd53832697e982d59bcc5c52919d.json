{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _asyncToGenerator from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import Grid from'@mui/material/Grid';import Container from'@mui/material/Container';import{Typography}from'@mui/material';import{Button}from'@mui/material';import TextField from'@mui/material/TextField';import Stack from'@mui/material/Stack';import AddIcon from'@mui/icons-material/Add';import IconButton from'@mui/material/IconButton';import{useState,useEffect}from'react';import{makeStyles}from'@mui/styles';import Box from'@mui/material/Box';import Modal from'@mui/material/Modal';import ArrowRightAltIcon from'@mui/icons-material/ArrowRightAlt';import axios from'axios';import MenuItem from'@mui/material/MenuItem';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{detailAction}from'../../redux/action/action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=makeStyles(function(theme){return{selectRoot:{backgroundColor:'white'},groups:{display:'flex',alignItems:'center',marginBottom:10,marginTop:40,padding:20,// border: `1px solid black`,\nborderRadius:10,// boxShadow:`0 3px 5px rgb(0 0 0 / 0.2)`,\ncursor:'pointer',color:'primary'}};});var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:400,bgcolor:'white',border:'0px solid #fff',borderRadius:'10px',boxShadow:24,p:4};export var Multiple=function Multiple(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),accountNumber=_useState4[0],setAccountNumber=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),accountName=_useState6[0],setAccountName=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),amount=_useState8[0],setAmount=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),bank=_useState10[0],setBank=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),receiver=_useState12[0],setReceiver=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),options=_useState14[0],setOptions=_useState14[1];// when group arrives\n// const [group,setGroup] = useState();\nvar classes=styles();var dispatch=useDispatch();var navigate=useNavigate();var user=useSelector(function(state){return state.reducer;});useEffect(function(){if(window.location.pathname==='/welcome/multiple'&&user.length===0){return navigate('/');}function getBanks(){return _getBanks.apply(this,arguments);}function _getBanks(){_getBanks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://xmtapi.azurewebsites.net/Bank/get_banks').then(function(res){return setBank(res.data);}).catch(function(err){return console.log('error from get bank');});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getBanks.apply(this,arguments);}getBanks();},[]);// const handleGroupSelect = () => {\n//     navigate(`/welcome/bankForm/${group}`);\n// }\n// const localTransferState = useSelector(state => state.transfer);\n// console.log(localTransferState);\nvar handleSelect=function handleSelect(e){setOptions(e.target.value);if(accountNumber.length===10){axios.post('https://xmtapi.azurewebsites.net/Transaction/find_account',{bank:e.target.value,accountNumber:accountNumber}).then(function(response){return setAccountName(response.data.customerName);}).catch(function(err){return console.error(err,'i caught the error');});}};var handleSubmit=function handleSubmit(e){e.preventDefault();// dispatch\ndispatch(detailAction(receiver));navigate('/welcome/details');};var resetState=function resetState(){setAccountNumber('');setAmount(0);setOptions('');setAccountName('');};var handleModal=function handleModal(){if(accountNumber.length===10&&options&&accountName.length>0&&Number(amount)>=0&&receiver.length+1<=10){console.log(receiver.length);setReceiver(function(prevState){return[].concat(_toConsumableArray(prevState),[{transactionAmount:Number(amount),receiverAccount:accountNumber,narration:'',bank:options}]);});handleClose();resetState();console.log(receiver);}else{return handleClose();}};return/*#__PURE__*/_jsxs(\"div\",{style:{height:'100%'},children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"primary\",style:{marginLeft:20,marginTop:100,fontSize:20},children:\"Multiple Transfer\"})}),/*#__PURE__*/_jsx(Container,{style:{marginTop:50,fontSize:20},children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",spacing:0,rowSpacing:5,children:[/*#__PURE__*/_jsxs(Grid,{item:true,md:6,xs:12,container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:12,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",style:{marginLeft:20,fontSize:15},children:\" Recipients\"}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",disableRipple:true,onClick:handleOpen,children:/*#__PURE__*/_jsx(AddIcon,{color:\"primary\"})})]}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(Box,{sx:style,children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"em\",children:[\"Note: \",/*#__PURE__*/_jsx(Typography,{variant:\"em\",style:{color:'red'},children:\"Recipients should not be more than 10\"})]}),/*#__PURE__*/_jsx(TextField,{variant:\"standard\",label:\"Account Number\",value:accountNumber,onChange:function onChange(e){return setAccountNumber(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{variant:\"standard\",label:\"Bank\",id:\"standard-select-currency\",select:true,value:options,onChange:handleSelect,children:bank.map(function(val,key){return/*#__PURE__*/_jsxs(MenuItem,{style:{color:'white'},value:val,children:[\" \",val]},key);})}),/*#__PURE__*/_jsx(TextField,{variant:\"standard\",label:\"Amount\",value:amount,style:{color:'white'},onChange:function onChange(e){return setAmount(e.target.value);},onBlur:function onBlur(e){return setAmount(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{variant:\"standard\",label:\"Account Name\",value:accountName}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",disableRipple:true,onClick:handleModal,children:\"Add\"})]})})})]}),!receiver.length&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{marginLeft:20,fontSize:12},children:\"No items yet\"})}),receiver.map(function(val,key){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{boxShadow:'2px 2px 2px 0.5'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"primary\",style:{marginLeft:20,fontSize:15},children:val.receiverAccount}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",style:{marginLeft:20,fontSize:12},children:[val.bank,\" |   N\",val.transactionAmount]})]})},key);}),receiver.length>=2&&receiver.length<=10&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",disableRipple:true,style:{marginLeft:20},endIcon:/*#__PURE__*/_jsx(ArrowRightAltIcon,{}),onClick:handleSubmit,children:\"Proceed\"})})]}),/*#__PURE__*/_jsx(Grid,{item:true,md:6,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",style:{marginLeft:20,fontSize:15},children:\"Groups\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{marginLeft:20,fontSize:12,marginTop:15},children:\"No group yet\"})})]})})]})})]});};","map":{"version":3,"sources":["C:/Users/support/Desktop/xtm/src/components/nestedRoutes/Multiple.js"],"names":["Grid","Container","Typography","Button","TextField","Stack","AddIcon","IconButton","useState","useEffect","makeStyles","Box","Modal","ArrowRightAltIcon","axios","MenuItem","useDispatch","useSelector","useNavigate","detailAction","styles","theme","selectRoot","backgroundColor","groups","display","alignItems","marginBottom","marginTop","padding","borderRadius","cursor","color","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","Multiple","open","setOpen","handleOpen","handleClose","accountNumber","setAccountNumber","accountName","setAccountName","amount","setAmount","bank","setBank","receiver","setReceiver","options","setOptions","classes","dispatch","navigate","user","state","reducer","window","location","pathname","length","getBanks","get","then","res","data","catch","err","console","log","handleSelect","e","target","value","post","response","customerName","error","handleSubmit","preventDefault","resetState","handleModal","Number","prevState","transactionAmount","receiverAccount","narration","height","marginLeft","fontSize","map","val","key"],"mappings":"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","sourcesContent":["import Grid from '@mui/material/Grid';\r\nimport Container from '@mui/material/Container';\r\nimport { Typography } from '@mui/material';\r\nimport { Button } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\nimport Stack from '@mui/material/Stack';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useState,useEffect } from 'react';\r\nimport  { makeStyles } from '@mui/styles';\r\nimport Box from '@mui/material/Box';  \r\nimport Modal from '@mui/material/Modal';\r\nimport ArrowRightAltIcon from '@mui/icons-material/ArrowRightAlt';\r\nimport axios from 'axios';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { detailAction } from '../../redux/action/action';\r\n\r\nconst styles = makeStyles(theme => (\r\n    {\r\n        selectRoot: {\r\n            backgroundColor:'white',\r\n        },\r\n        groups: {\r\n            display:'flex',\r\n            alignItems: 'center',\r\n            marginBottom: 10,\r\n            marginTop: 40,\r\n            padding: 20,\r\n            // border: `1px solid black`,\r\n            borderRadius:10,\r\n            // boxShadow:`0 3px 5px rgb(0 0 0 / 0.2)`,\r\n            cursor: 'pointer',\r\n            color:'primary'\r\n        }  \r\n    }\r\n));\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    bgcolor: 'white',\r\n    border: '0px solid #fff',\r\n    borderRadius:'10px',\r\n    boxShadow: 24,\r\n    p: 4,\r\n  };\r\nexport const Multiple = () => {\r\n    const [open, setOpen] = useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    const [accountNumber,setAccountNumber] = useState('');\r\n    const [accountName, setAccountName] = useState('');\r\n    const [amount, setAmount] = useState(0);\r\n    const [bank,setBank] = useState([]);\r\n    const [receiver, setReceiver] = useState([]);\r\n\r\n    const [options,setOptions] = useState('');\r\n    // when group arrives\r\n    // const [group,setGroup] = useState();\r\n    const classes = styles();\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const user = useSelector(state => state.reducer);\r\n    useEffect(() => {\r\n        if( window.location.pathname ==='/welcome/multiple' && user.length  === 0 )    {\r\n            return navigate('/');\r\n        }\r\n        async function getBanks () {\r\n             await axios.get('https://xmtapi.azurewebsites.net/Bank/get_banks')\r\n             .then(res =>setBank(res.data)).catch(err => console.log('error from get bank'));\r\n        }\r\n        getBanks();\r\n        \r\n    }, []);\r\n\r\n    // const handleGroupSelect = () => {\r\n    //     navigate(`/welcome/bankForm/${group}`);\r\n    // }\r\n    // const localTransferState = useSelector(state => state.transfer);\r\n    // console.log(localTransferState);\r\n\r\n    const handleSelect = (e) => {\r\n         setOptions(e.target.value);\r\n         if(accountNumber.length === 10) {\r\n            axios.post('https://xmtapi.azurewebsites.net/Transaction/find_account',{bank:e.target.value, accountNumber:accountNumber}).then(response => (setAccountName(response.data.customerName))).catch(err => console.error(err,'i caught the error'));\r\n            }\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // dispatch\r\n        dispatch(detailAction(receiver));\r\n        navigate('/welcome/details');\r\n    }\r\n    const resetState = () => {\r\n        setAccountNumber('');\r\n        setAmount(0);\r\n        setOptions('');\r\n        setAccountName('')\r\n    }\r\n    const handleModal = () => {\r\n        if(accountNumber.length === 10 && options && accountName.length>0 && Number(amount) >= 0 && receiver.length+1 <= 10 ) {\r\n            console.log(receiver.length);\r\n            setReceiver(prevState => [...prevState,{transactionAmount: Number(amount),\r\n                receiverAccount:accountNumber,\r\n                narration:'',\r\n               bank:options}]);\r\n            handleClose();\r\n            resetState();\r\n            console.log(receiver);\r\n        }else   {\r\n            return handleClose();  \r\n        }\r\n    }\r\n    return (<div style = {{height:'100%'}}>\r\n        <Container>\r\n        <Typography variant=\"body1\" color ='primary' style =  {{marginLeft: 20, marginTop:100, fontSize:20}}>Multiple Transfer</Typography>\r\n        </Container>\r\n        <Container style =  {{marginTop:50, fontSize:20}} >\r\n            <Grid container direction = 'row' spacing={0} rowSpacing={5}>\r\n                <Grid  item md = {6} xs = {12} container  spacing = {3}>\r\n                        <Grid item xs ={12} md={12}>\r\n                            <div style ={{display: 'flex', alignItems:'center'}}>                                \r\n                                <Typography variant=\"body1\" style =  {{marginLeft: 20, fontSize:15}}> Recipients</Typography>\r\n                                <IconButton color = 'primary' disableRipple onClick={handleOpen}>\r\n                                    <AddIcon  color ='primary' />\r\n                                </IconButton>\r\n                            </div>\r\n                            <Modal\r\n                                open={open}\r\n                                onClose={handleClose}\r\n                                aria-labelledby=\"modal-modal-title\"\r\n                                aria-describedby=\"modal-modal-description\"\r\n                            >\r\n                                <Box sx={style}>\r\n                                    <Stack spacing = {2}>\r\n                                        <Typography variant ='em' >Note: <Typography variant ='em' style= {{color:'red'}}>Recipients should not be more than 10</Typography></Typography>\r\n                                        <TextField  variant= 'standard' label = 'Account Number' value = {accountNumber}  onChange = {e => setAccountNumber(e.target.value)}/>\r\n                                        <TextField variant= 'standard' label = 'Bank' id=\"standard-select-currency\"  select value = {options}  onChange = {handleSelect}>\r\n                                            {bank.map((val,key) => <MenuItem key={key} style = {{color:'white'}}  value = {val}> {val}</MenuItem>)}\r\n                                        </TextField>\r\n                                        <TextField  variant= 'standard' label = 'Amount' value = {amount} style = {{color:'white'}} onChange = {e => setAmount(e.target.value)} onBlur = {e => setAmount(e.target.value)}/>\r\n                                        <TextField  variant= 'standard' label = 'Account Name' value = {accountName} />\r\n                                        <Button variant = 'contained' color = 'primary' disableRipple onClick = {handleModal}>Add</Button>\r\n                                    </Stack>\r\n                                </Box>\r\n                            </Modal> \r\n                        </Grid>\r\n                        {!receiver.length && <Grid item xs ={12} md = {12} >\r\n                            <Typography variant = 'h6' style =  {{marginLeft: 20, fontSize:12}} >No items yet</Typography>\r\n                        </Grid>}\r\n                        {receiver.map( (val,key) => <Grid item xs ={12} md = {12} key= {key} >\r\n                                <div style = {{boxShadow:'2px 2px 2px 0.5'}}>\r\n                                    <Typography variant = 'body1' color = 'primary' style =  {{marginLeft: 20, fontSize:15}}>{val.receiverAccount}</Typography>\r\n                                    <Typography variant = 'h6' style =  {{marginLeft: 20, fontSize:12}}>{val.bank} |   N{val.transactionAmount}</Typography>\r\n                                </div>\r\n                        </Grid>)}\r\n                        {(receiver.length >= 2 && receiver.length <= 10) && <Grid item xs ={12} md = {12} >\r\n                            <Button color = 'primary' variant = 'contained' disableRipple style =  {{marginLeft: 20}} endIcon={< ArrowRightAltIcon/>} onClick = {handleSubmit}>Proceed</Button>\r\n                        </Grid>}\r\n                        {/* {!localTransferState && <Grid item>\r\n                             <Typography variant=\"h6\" style =  {{marginLeft: 20, fontSize:13}}>No Group yet</Typography>\r\n                        </Grid>}\r\n                        {localTransferState && localTransferState.map((val,key) =><Grid item key={key} className={classes.groups} onClick = {handleGroupSelect}>\r\n                             <Typography color = 'primary' variant=\"h6\" style ={{marginLeft: 20, fontSize:13}}>{val.group}  ({val.receiver}/10)</Typography>\r\n                        </Grid>)} */}\r\n                </Grid>\r\n                <Grid item md ={6} xs ={12} >\r\n                <Grid container direction='column' spacing = {3}>\r\n                    <Grid item>\r\n                            <Typography variant=\"body1\" style =  {{marginLeft: 20, fontSize:15}}>Groups</Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                            <Typography variant=\"h6\" style =  {{marginLeft: 20, fontSize:12, marginTop:15}}>No group yet</Typography>\r\n                    </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    </div>);\r\n};"]},"metadata":{},"sourceType":"module"}