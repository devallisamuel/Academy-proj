{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\support\\\\Desktop\\\\xtm\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router\";import Container from'@mui/material/Container';import{Typography}from'@mui/material';// import { Button } from '@mui/material';\nimport Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import CircularIndeterminate from\"../UI/Spinner\";// import background from '../../assets/Jemeelah2-1.svg';\n// import Paginations from \"../UI/Pagination\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var History=function History(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var user=useSelector(function(state){return state.reducer[0];});// const [currentPage, setCurrentPage] = useState(1);\n// const [postsPerPage] = useState(20);\nvar navigate=useNavigate();console.log(user);useEffect(function(){if(window.location.pathname==='/welcome/multiple'&&user.length===0){return navigate('/');}function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var getTransactionDetails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://xmtapi.azurewebsites.net/Transaction/get-transaction-groups/\".concat(user.accountNumber)).then(function(response){return setData(response.data);}).catch(function(err){return console.log(err,'error caught during post of account number ');});case 2:getTransactionDetails=_context.sent;console.log(getTransactionDetails);console.log(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}getData();},[]);// if (data.length === 0)   {\n//     return (<div style ={{position:'absolute', top:'50%', left:'50%'}}>\n//             <CircularIndeterminate/>\n//         </div>);\n// }\nvar dateTime=function dateTime(params){var arr=params.split('T');var arr2=arr[1].split('.');var time='';var conv=arr2[0].split(':');if(conv[0]<12){time='AM';}else{time='PM';}return\"\".concat(arr[0],\"  \").concat(arr2[0],\" \").concat(time);};var rows=[];function Post(posts){console.log(posts,'this is your data');for(var i=0;i<=posts.length-1;i++){for(var j=0;j<=posts[i].transactions.length-1;j++){var row=/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:posts[i].transactions[j].bank}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:posts[i].transactions[j].receiverAccount}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:posts[i].transactions[j].transactionAmount}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:dateTime(posts[i].transactions[j].transactionDate)}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:posts[i].transactionGroupName}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:posts[i].transactions[j].transactionId})]},posts[i].transactions[j].transactionId);rows.push(row);}}return rows.map(function(val){return val;});}// const indexOfLastPost = currentPage * postsPerPage;\n// const indexOfFirstPost = indexOfLastPost - postsPerPage;\n// const currentPosts = data.slice(indexOfFirstPost, indexOfLastPost);\n// const paginate = pageNumber => setCurrentPage(pageNumber + 1);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"primary\",style:{marginLeft:90,marginTop:100,fontSize:20},children:\"Transfer Details\"})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(TableContainer,{style:{marginLeft:100,marginTop:50},children:/*#__PURE__*/_jsxs(Table,{sx:{width:'1000px'},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Bank\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Account Number\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Amount\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Group\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Ref ID\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:Post(data)})]})})}),/*#__PURE__*/_jsx(Container,{style:{display:'flex',justifyContent:'center',margin:20}})]});};","map":{"version":3,"sources":["C:/Users/support/Desktop/xtm/src/components/nestedRoutes/transHistory.js"],"names":["useEffect","useState","axios","useSelector","useNavigate","Container","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","CircularIndeterminate","History","data","setData","user","state","reducer","navigate","console","log","window","location","pathname","length","getData","get","accountNumber","then","response","catch","err","getTransactionDetails","dateTime","params","arr","split","arr2","time","conv","rows","Post","posts","i","j","transactions","row","border","bank","receiverAccount","transactionAmount","transactionDate","transactionGroupName","transactionId","push","map","val","marginLeft","marginTop","fontSize","width","display","justifyContent","margin"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router\";\r\nimport Container from '@mui/material/Container';\r\nimport {Typography } from '@mui/material';\r\n// import { Button } from '@mui/material';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport CircularIndeterminate from \"../UI/Spinner\";\r\n// import background from '../../assets/Jemeelah2-1.svg';\r\n// import Paginations from \"../UI/Pagination\";\r\n\r\nexport const History = () => {\r\n    const [data, setData ] = useState([]);\r\n    const user = useSelector(state => state.reducer[0]);\r\n    // const [currentPage, setCurrentPage] = useState(1);\r\n    // const [postsPerPage] = useState(20);\r\n\r\n     \r\n    const navigate = useNavigate();\r\n    console.log(user);\r\n\r\n    useEffect(() => {\r\n        \r\n    if( window.location.pathname ==='/welcome/multiple' && user.length  === 0 )    {\r\n        return navigate('/');\r\n    }\r\n    async  function getData () {\r\n        let getTransactionDetails = await axios.get(`https://xmtapi.azurewebsites.net/Transaction/get-transaction-groups/${user.accountNumber}`).then(response => setData(response.data)).catch(err => console.log(err, 'error caught during post of account number '));\r\n        console.log(getTransactionDetails);\r\n        console.log(data);\r\n    }\r\n    getData();\r\n\r\n    }, []);\r\n\r\n    // if (data.length === 0)   {\r\n    //     return (<div style ={{position:'absolute', top:'50%', left:'50%'}}>\r\n    //             <CircularIndeterminate/>\r\n    //         </div>);\r\n    // }\r\n    const dateTime = (params) => {\r\n        let arr =  params.split('T');\r\n        let arr2 = arr[1].split('.');\r\n        let time = '';\r\n        let conv = arr2[0].split(':')\r\n        if(conv[0] < 12)  {\r\n            time = 'AM';\r\n        }else {\r\n            time = 'PM';\r\n        }\r\n        return `${arr[0]}  ${arr2[0]} ${time}`;\r\n    }\r\n     const rows = []\r\n    function Post (posts) {\r\n        console.log(posts, 'this is your data');\r\n            for(let i = 0; i <= posts.length-1; i++) {\r\n                for (let j = 0; j <= posts[i].transactions.length-1; j++) {\r\n                      let row =(<TableRow\r\n                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                        key = {posts[i].transactions[j].transactionId}>\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                                {posts[i].transactions[j].bank}\r\n                            </TableCell>\r\n                            <TableCell align=\"left\">{posts[i].transactions[j].receiverAccount}</TableCell>\r\n                            <TableCell align=\"left\">{posts[i].transactions[j].transactionAmount}</TableCell>\r\n                            <TableCell align=\"left\">{dateTime(posts[i].transactions[j].transactionDate)}</TableCell>\r\n                            <TableCell align=\"left\">{posts[i].transactionGroupName}</TableCell>\r\n                            \r\n                           <TableCell align=\"left\">{(posts[i].transactions[j].transactionId)}</TableCell>\r\n                        </TableRow>);\r\n                        rows.push(row)\r\n                }\r\n            }\r\n            return rows.map(val => val);\r\n    }\r\n    // const indexOfLastPost = currentPage * postsPerPage;\r\n    // const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n    // const currentPosts = data.slice(indexOfFirstPost, indexOfLastPost);\r\n    // const paginate = pageNumber => setCurrentPage(pageNumber + 1);\r\n    return (<>\r\n            {/* <div\r\n                    style = {{backgroundImage:`url(${background})`,\r\n                    height:'100vh',\r\n                    width:'100%',\r\n                    overflowX:'hidden',\r\n                    backgroundPosition:'center',\r\n                    backgroundSize:'cover',\r\n                    }}> */}\r\n            <Container>\r\n                    <Typography variant=\"body1\" color ='primary' style =  {{marginLeft: 90, marginTop:100, fontSize:20}}>Transfer Details</Typography>\r\n            </Container>\r\n            <Container>\r\n                    <TableContainer style =  {{marginLeft: 100, marginTop:50}} >\r\n                        <Table sx={{ width: '1000px' }} aria-label=\"simple table\">\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell>Bank</TableCell>\r\n                                    <TableCell>Account Number</TableCell>\r\n                                    <TableCell>Amount</TableCell>\r\n                                    <TableCell>Date</TableCell>\r\n                                    <TableCell>Group</TableCell>\r\n                                    <TableCell>Ref ID</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                             <TableBody>\r\n                                 {Post(data)}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Container>\r\n                <Container style = {{display:'flex', justifyContent:'center', margin:20}}>\r\n                    {/* <Paginations  style =  {{marginLeft: 90, marginTop:100, fontSize:20}} postsPerPage={postsPerPage} totalPosts={data.length} paginate = {paginate} /> */}\r\n            </Container>\r\n            {/* </div> */}\r\n        </>);\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}