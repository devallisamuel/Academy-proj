{"version":3,"file":"index.modern.js","sources":["../src/useVH.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\n\nconst VARIABLE_NAME = '--vh';\n\nconst getActualVh = () =>\n  // window check for server-side rendering\n  typeof window !== 'undefined'\n    ? Number((window.innerHeight * 0.01).toFixed(2))\n    : 0;\n\nlet count = 0;\n\nconst useVH = (): number => {\n  const [vh, setVh] = useState(getActualVh());\n  const updateVh = useCallback(() => {\n    const newVh = getActualVh();\n\n    document.documentElement.style.setProperty(VARIABLE_NAME, `${newVh}px`);\n    setVh(newVh);\n  }, [setVh]);\n\n  useEffect(() => {\n    count += 1;\n\n    updateVh();\n\n    window.addEventListener('resize', updateVh);\n\n    return () => {\n      window.removeEventListener('resize', updateVh);\n\n      count -= 1;\n\n      if (count === 0)\n        document.documentElement.style.removeProperty(VARIABLE_NAME);\n    };\n  }, [updateVh]);\n\n  return vh;\n};\n\nexport default useVH;\n"],"names":["getActualVh","window","Number","innerHeight","toFixed","count","vh","setVh","useState","updateVh","useCallback","newVh","document","documentElement","style","setProperty","useEffect","addEventListener","removeEventListener","removeProperty"],"mappings":"iEAEA,MAEMA,EAAc,IAEA,oBAAXC,OACHC,QAA6B,IAArBD,OAAOE,aAAoBC,QAAQ,IAC3C,EAEN,IAAIC,EAAQ,gBAEE,KACZ,MAAOC,EAAIC,GAASC,EAASR,KACvBS,EAAWC,EAAY,KAC3B,MAAMC,EAAQX,IAEdY,SAASC,gBAAgBC,MAAMC,YAfb,UAe2CJ,OAC7DJ,EAAMI,IACL,CAACJ,IAmBJ,OAjBAS,EAAU,KACRX,GAAS,EAETI,IAEAR,OAAOgB,iBAAiB,SAAUR,GAE3B,KACLR,OAAOiB,oBAAoB,SAAUT,GAErCJ,GAAS,EAEK,IAAVA,GACFO,SAASC,gBAAgBC,MAAMK,eAhCjB,UAkCjB,CAACV,IAEGH"}